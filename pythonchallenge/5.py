#! /usr/bin/python3
 
import requests
import pickle
import os

challenge_url = "http://www.pythonchallenge.com/pc/def/peak.html"

# Gets a link to banner.p
challenge = requests.get(challenge_url)

# Gets a banner.p file
banner = requests.get(challenge_url[:-9]+"banner.p")
with open("banner.p", "w") as f:
    f.write(banner.text)

# unpickle it
with open("banner.p", "rb") as f:
    lines = pickle.load(f)

# Remove the banner.p file
os.remove("banner.p")

# Print the decoded file
for line in lines:
    for cell in line:
        print(cell[0]*int(cell[1]), end="")
    print("")

solution_text = "channel"
print(f"Solution URL:", challenge_url[:-9]+solution_text+".html")
